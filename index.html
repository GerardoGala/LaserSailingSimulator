<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ILCA Simulator Welcome Page</title>
  <link rel="stylesheet" href="css/index.css">
</head>
<body>
  <!-- WELCOME DIALOG (unchanged) -->
 <div
  class="welcome-overlay"
  id="welcomeOverlay"
  style="position: fixed; inset: 0; height: 100dvh;"
>
  <div
    style="
      padding: 20px;
      background: var(--bg-secondary);
      height: 100%;
      display: flex;
      flex-direction: column;
    "
  >
    <h2 style="color: var(--text-accent); text-align: center;">
      Welcome to the Laser Sailing Simulator Webpage
    </h2>

    <!-- SCROLLABLE HELP SECTION -->
    <div style="flex: 1; overflow-y: auto; padding: 20px;">
      <div class="help-chapter">
  
        <div class="help-title">01. The Race</div>
          <div class="help-content">
            <p>1. 3-minute Start</p>
            <p>a. Flags at T-3.00, T-2.00, T-1.00, and T-0.00</p>
            <p>2. Standard triangle race course:</p>
            <p><img src="assets/course-map.jpg" alt="Laser Race Course Map" style="width:100%; max-width:400px; border-radius:8px; margin:16px 0;"></p>
            <p>a. Round all marks to port. Finish between the RC boat and the pin.</p>
          </div>
        </div>
        <div class="help-chapter">
          <div class="help-title">02. The Environment</div>
          <div class="help-content">
            <p>
            The 2026 ILCA World Championships — featuring both the <strong>ILCA 7 Men’s</strong> and 
            <strong>ILCA 6 Women’s</strong> fleets — will be held at 
            <strong>Dún Laoghaire, Ireland</strong>, on the waters of Dublin Bay. The event runs from late 
            August to mid‑September 2026, with sailors from around the world competing for world titles.
            </p>

            <p>
            Average coastal breezes in Dublin Bay often hover around <strong>10–12 knots</strong>, 
            providing ideal conditions for tactical dinghy racing. However, like all open‑bay venues, these 
            winds can fluctuate with gusts, shifts, and lulls throughout the day. Competitors should 
            anticipate both steady trade‑style breezes and local variability that will test sail trim, 
            helm control, and tactical choices.  
            </p>

            <p>
            Dún Laoghaire’s racing areas are exposed to the open Irish Sea, where afternoon sea breezes 
            and frontal weather systems can contribute to changing wind patterns. Waves and tidal currents 
            on Dublin Bay also play a role in strategy and boat speed, making local conditions dynamic and 
            challenging.  
            </p>           
            <p>The wind condition will be announced at the start of the race.</p>
          </div>
        </div>

        <div class="help-chapter">
          <div class="help-title">03. ILCA Target Speeds (10-12kts Wind)</div>
          <div class="help-content">
            <div class="performance-grid">
              <div class="grid-header">Point of Sail</div>
              <div class="grid-header">Heading</div>
              <div class="grid-header">Speed</div>
              <div class="grid-header">Sheet</div>
              
              <div>Close Hauled</div>
              <div>30°-45°</div>
              <div>4.8 kts</div>
              <div>0°-5°</div>
              
              <div>Close Reach</div>
              <div>60°</div>
              <div>6.2 kts</div>
              <div>20°</div>
              
              <div>Beam Reach</div>
              <div>90°</div>
              <div>8.5 kts</div>
              <div>45°</div>
              
              <div>Broad Reach</div>
              <div>135°</div>
              <div>7.2 kts</div>
              <div>75°</div>
              
              <div>Dead Run</div>
              <div>175°</div>
              <div>4.5 kts</div>
              <div>90°</div>
            </div>
          </div>
        </div>

        <div class="help-chapter">
          <div class="help-title">04. The Controls</div>
          <div class="help-content">


            <p>On a Laser/ILCA, many controls affect how the boat performs, but the <strong>most important control</strong> is the <em>sheet</em>. The sheet determines how tight the sail is trimmed to the wind, and it has a dramatic effect on speed and balance.</p>

            <p><strong>Key points about the sheet:</strong></p>
            <ul>
              <li><strong>Too tight:</strong> The sail over-flattens, airflow detaches, and the boat slows down. On a beam reach (~90° TWA), tightening the sheet to 15° or less is too aggressive.</li>
              <li><strong>Optimal trim:</strong> Slowly easing the sheet while watching boat speed reveals the sweet spot. On a beam reach, your observations show <strong>50–55°</strong> gives maximum speed (~8.5 knots in 10 kt wind).</li>
              <li><strong>Too loose:</strong> The sail spills wind, reduces driving force, and the boat slows again. Beyond ~55° on a beam reach, speed decreases.</li>
            </ul>

            <p>Other controls (outhaul, vang, traveler, rudder) are important for fine-tuning balance and pointing ability, but without proper sheet trim, the boat will not reach its potential. In short:</p>

            <ul>
              <li><strong>Sheet is king:</strong> Trim it for clean airflow and maximum speed according to point of sail.</li>
              <li><strong>Outhaul:</strong> Adjust for wind strength — more tension in heavy winds, less in light winds.</li>
              <li><strong>Tiller:</strong> Steer smoothly — avoid oversteering, which reduces speed due to turn drag.</li>
            </ul>

            <p>Remember: learning to read the boat’s response as you adjust the sheet is the fastest way to sail efficiently and safely.</p>

            <p style="font-size:0.9em; color:gray;">Source: <a href="https://en.wikipedia.org/wiki/Polar_diagram_(sailing)" target="_blank" style="color:yellow;">Polar diagram (sailing) — Wikipedia</a></p>
                        
            <h3 style="color:var(--text-accent); margin-top:24px;">Outhaul</h3>
            <ul>
              <li><strong>Function:</strong> Controls the bottom edge and the depth (belly) of the sail.</li>
              <li><strong>Optimization:</strong> Leave roughly a "hand span" of space between the sail and the boom. This creates the ideal balance of drive and boat control.</li>
            </ul>
            
            <h3 style="color:var(--text-accent); margin-top:20px;">Cunningham (Downhaul)</h3>
            <ul>
              <li><strong>Function:</strong> Controls the tension on the front edge (luff) and the upper part of the sail.</li>
              <li><strong>Optimization:</strong> Pulling it tight flattens the top of the sail to "shed" power when you are overpowered. In lighter winds, use just enough tension to smooth out vertical creases.</li>
            </ul>
            
            <h3 style="color:var(--text-accent); margin-top:20px;">Boom Vang (Kicker)</h3>
            <ul>
              <li><strong>Function:</strong> Holds the boom down and bends the mast to flatten the mid-section of the sail.</li>
              <li><strong>Optimization:</strong> Essential for gusts. Proper tension allows you to ease the mainsheet without the boom rising, preventing the sail from accidentally powering up when you're trying to depower.</li>
            </ul>

            <p>Watch this guide to master <strong>Laser Sail Tuning</strong> for medium winds. These adjustments are critical for the 3-minute setup phase before your race begins.</p>
            
            <div class="video-link" style="margin:20px 0;">
              <a href="http://www.youtube.com/watch?v=RjokxLehlaY" target="_blank">
                <strong>Video: Laser Sail Tuning & Adjusting Tips</strong>
              </a>
            </div>
          </div>
        </div>

        <div class="help-chapter">
          <div class="help-title">05. The Physics of Laser Sailing</div>
          <div class="help-content">
            <p>To master the Laser, you must manipulate the sail's shape to balance <strong>Lift</strong> and <strong>Drag</strong>. The <strong>Outhaul</strong> is your primary tool for controlling the "lower gear" of the boat by adjusting the <strong>Camber</strong> (depth).</p>
            
            <h3 style="color:var(--text-accent); margin:24px 0 16px;">The Mechanics of Camber</h3>
            <ul>
              <li>
                <strong>Loose Outhaul (Deep Camber):</strong><br>
                Generates maximum power (Lift) for light winds or downwind.<br>
                <em>Penalty:</em> Increases <strong>Induced Drag</strong>. In heavy air, this causes excessive heeling (tilting) rather than forward motion.
              </li>
              <li style="margin-top:16px;">
                <strong>Tight Outhaul (Flat Camber):</strong><br>
                Reduces drag and allows the boat to point higher upwind.<br>
                <em>Penalty:</em> In light air, a sail that is too flat will <strong>Stall</strong>, causing a total loss of drive.
              </li>
            </ul>
          </div>
        </div>

        <div class="help-chapter">
          <div class="help-title">06. Our Model</div>
          <div class="help-content">

            <p>
              This sailing simulation app uses a simplified but realistic performance model
              based on publicly available information about the ILCA / Laser class and
              standard sailing theory. The goal of this model is to remain intuitive,
              transparent, and defensible rather than perfectly hydrodynamic.
            </p>

            <p>
              Wherever possible, real-world sources are cited so that players can explore
              the underlying data themselves and understand how the simulator behaves.
            </p>

            <p><strong>Primary Sources:</strong></p>

            <ul>
              <li>
                <strong>International Laser Class Association (ILCA)</strong><br>
                Official class information, rules, and equipment specifications.<br>
                <a href="https://ilcasailing.org/" target="_blank" style="color: #ffd700; text-decoration: underline;">https://ilcasailing.org/</a>
              </li>

              <li>
                <strong>Polar Diagrams (Sailing Theory)</strong><br>
                Explanation of polar curves used to model boat speed vs. wind angle.<br>
                <a href="https://en.wikipedia.org/wiki/Polar_diagram_(sailing)" target="_blank" style="color: #ffd700; text-decoration: underline;">
                  https://en.wikipedia.org/wiki/Polar_diagram_(sailing)
                </a>
              </li>

              <li>
                <strong>Laser / ILCA Performance Discussions</strong><br>
                Community-based observations of Laser speeds across points of sail.<br>
                <a href="https://sailingforums.com/threads/laser-speeds.175/" target="_blank" style="color: #ffd700; text-decoration: underline;">
                  https://sailingforums.com/threads/laser-speeds.175/
                </a>
              </li>
            </ul>

            <p>
              Because official Laser polar curves are not publicly published, this simulator
              uses a <strong>simplified reference polar</strong> that reflects commonly
              accepted performance ranges for an ILCA dinghy in moderate wind.
            </p>

            <p><strong>Simplified Polar Reference Used in This Simulator:</strong></p>

            <table class="help-table">
              <thead>
                <tr>
                  <th>Point of Sail</th>
                  <th>Relative Wind Angle</th>
                  <th>Boat Speed</th>
                  <th>Typical Sheet Angle</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Close Hauled</td>
                  <td>30° – 45°</td>
                  <td>≈ 4.8 knots</td>
                  <td>0° – 5°</td>
                </tr>
                <tr>
                  <td>Close Reach</td>
                  <td>60°</td>
                  <td>≈ 6.2 knots</td>
                  <td>20°</td>
                </tr>
                <tr>
                  <td>Beam Reach</td>
                  <td>90°</td>
                  <td>≈ 8.5 knots</td>
                  <td>45°</td>
                </tr>
                <tr>
                  <td>Broad Reach</td>
                  <td>135°</td>
                  <td>≈ 7.2 knots</td>
                  <td>75°</td>
                </tr>
                <tr>
                  <td>Dead Run</td>
                  <td>175°</td>
                  <td>≈ 4.5 knots</td>
                  <td>90°</td>
                </tr>
              </tbody>
            </table>

            <p>
              These values are not intended to represent maximum theoretical performance.
              Instead, they form a stable reference curve that rewards correct trim,
              penalizes poor trim, and produces believable behavior for a single-handed
              dinghy.
            </p>

            <p>
              <strong>Section 3: Physics</strong> uses this table as its backbone and applies
              gradients for sail trim, tiller movement, wind oscillation, and inertia to
              produce smooth and realistic motion.
            </p>

            <p>
              If you disagree with any performance assumption, please consult the sources
              above or email the developer at ggala@hotmail.com . This simulator intentionally favors transparency over hidden formulas.
            </p>

        </div>

      </div>
      <div style="padding: 20px; background: var(--bg-secondary);">
        <button class="help-button" onclick="location.href='game.html'">
          OK
        </button>
      </div>
    </div>

    <script>
      document.querySelectorAll('.help-title').forEach(title => {
        title.addEventListener('click', () => {
          const content = title.nextElementSibling;
          const isOpen = content.classList.contains('open');
          document.querySelectorAll('.help-content').forEach(c => c.classList.remove('open'));
          document.querySelectorAll('.help-title').forEach(t => t.classList.remove('active'));
          if (!isOpen) {
            content.classList.add('open');
            title.classList.add('active');
          }
        });
      });
    </script>
  </div>
</body>
</html>